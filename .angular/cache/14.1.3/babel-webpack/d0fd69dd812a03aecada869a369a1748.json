{"ast":null,"code":"import { ChangeDetectorRef } from '@angular/core';\nimport { UntypedFormControl } from '@angular/forms';\nimport { Subject, switchMap, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"app/shared/service/artist.service\";\nimport * as i3 from \"@angular/material/sidenav\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nconst _c0 = [\"matDrawer\"];\n\nfunction ArtistListComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.artistsCount, \" \");\n  }\n}\n\nfunction ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const artist_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", artist_r8.picture_medium, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const artist_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", artist_r8.name.charAt(0), \" \");\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"hover:bg-gray-100 dark:hover:bg-hover\": a0,\n    \"bg-primary-50 dark:bg-hover\": a1\n  };\n};\n\nconst _c2 = function (a1) {\n  return [\"./\", a1];\n};\n\nfunction ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 18)(2, \"div\", 19);\n    i0.ɵɵtemplate(3, ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_ng_container_3_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵtemplate(4, ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_ng_container_4_Template, 3, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 20)(6, \"div\", 21);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 22);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 23)(11, \"div\", 21);\n    i0.ɵɵtext(12, \"Number Of Fans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 22);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 23)(17, \"div\", 21);\n    i0.ɵɵtext(18, \"Total Number of Albums\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 22);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const artist_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(12, _c1, !ctx_r7.selectedartist || ctx_r7.selectedartist.id !== artist_r8.id, ctx_r7.selectedartist && ctx_r7.selectedartist.id === artist_r8.id))(\"routerLink\", i0.ɵɵpureFunction1(15, _c2, artist_r8.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", artist_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !artist_r8);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(artist_r8.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(artist_r8.type);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 8, artist_r8.nb_fan));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 10, artist_r8.nb_album));\n  }\n}\n\nfunction ArtistListComponent_ng_container_21_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ArtistListComponent_ng_container_21_ng_container_1_ng_container_1_Template, 22, 17, \"ng-container\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const artists_r5 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", artists_r5)(\"ngForTrackBy\", ctx_r6.trackByFn);\n  }\n}\n\nfunction ArtistListComponent_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ArtistListComponent_ng_container_21_ng_container_1_Template, 2, 2, \"ng-container\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const artists_r5 = ctx.ngIf;\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(24);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", artists_r5.length)(\"ngIfElse\", _r3);\n  }\n}\n\nfunction ArtistListComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"Search Exixting Artist!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c3 = function () {\n  return {\n    \"=0\": \"No results\",\n    \"=1\": \"result\",\n    \"other\": \"results\"\n  };\n};\n\nexport let ArtistListComponent = /*#__PURE__*/(() => {\n  class ArtistListComponent {\n    constructor(_router, _activatedRoute, _artistService, _changeDetectorRef) {\n      this._router = _router;\n      this._activatedRoute = _activatedRoute;\n      this._artistService = _artistService;\n      this._changeDetectorRef = _changeDetectorRef;\n      this.artistsCount = 0;\n      this.searchInputControl = new UntypedFormControl();\n      this._unsubscribeAll = new Subject();\n    }\n\n    ngOnInit() {\n      // Get the artists\n      this.artists$ = this._artistService.artists$;\n\n      this._artistService.artists$.pipe(takeUntil(this._unsubscribeAll)).subscribe(artists => {\n        console.log(artists); // Update the counts\n\n        if (artists) {\n          this.artistsCount = artists.length;\n        } // Mark for check\n\n\n        this._changeDetectorRef.markForCheck();\n      }); // Subscribe to search input field value changes\n\n\n      this.searchInputControl.valueChanges.pipe(takeUntil(this._unsubscribeAll), switchMap(query => // Search\n      this._artistService.searchArtist(query))).subscribe();\n    }\n    /**\n      * On backdrop clicked\n      */\n\n\n    onBackdropClicked() {\n      // Go back to the list\n      this._router.navigate(['./'], {\n        relativeTo: this._activatedRoute\n      }); // Mark for check\n\n\n      this._changeDetectorRef.markForCheck();\n    }\n\n  }\n\n  ArtistListComponent.ɵfac = function ArtistListComponent_Factory(t) {\n    return new (t || ArtistListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ArtistService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  ArtistListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArtistListComponent,\n    selectors: [[\"artist-list\"]],\n    viewQuery: function ArtistListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matDrawer = _t.first);\n      }\n    },\n    decls: 25,\n    vars: 17,\n    consts: [[1, \"absolute\", \"inset-0\", \"flex\", \"flex-col\", \"min-w-0\", \"overflow-hidden\"], [1, \"flex-auto\", \"h-full\", \"bg-card\", \"dark:bg-transparent\", 3, \"backdropClick\"], [1, \"w-full\", \"md:w-160\", \"dark:bg-gray-900\", 3, \"mode\", \"opened\", \"position\", \"disableClose\"], [\"matDrawer\", \"\"], [1, \"flex\", \"flex-col\"], [1, \"flex-auto\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"md:flex-col\", \"flex-auto\", \"justify-between\", \"py-8\", \"px-6\", \"md:px-8\", \"border-b\"], [1, \"text-4xl\", \"font-extrabold\", \"tracking-tight\", \"leading-none\"], [1, \"ml-0.5\", \"font-medium\", \"text-secondary\"], [4, \"ngIf\"], [1, \"flex\", \"items-center\", \"mt-4\", \"sm:mt-0\", \"md:mt-4\"], [1, \"fuse-mat-dense\", \"fuse-mat-no-subscript\", \"fuse-mat-rounded\", \"w-full\", \"min-w-50\"], [\"matPrefix\", \"\", 1, \"icon-size-5\", 3, \"svgIcon\"], [\"matInput\", \"\", 3, \"formControl\", \"autocomplete\", \"placeholder\"], [1, \"relative\"], [\"noArtists\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"z-20\", \"flex\", \"items-center\", \"px-6\", \"py-4\", \"md:px-8\", \"cursor-pointer\", \"border-b\", 3, \"ngClass\", \"routerLink\"], [1, \"flex\", \"flex-0\", \"items-center\", \"justify-center\", \"w-10\", \"h-10\", \"rounded-full\", \"overflow-hidden\"], [1, \"min-w-0\", \"ml-4\"], [1, \"font-medium\", \"leading-5\", \"truncate\"], [1, \"leading-5\", \"truncate\", \"text-secondary\"], [1, \"min-w-0\", \"ml-10\"], [\"alt\", \"Artist Image\", 1, \"object-cover\", \"w-full\", \"h-full\", 3, \"src\"], [1, \"flex\", \"items-center\", \"justify-center\", \"w-full\", \"h-full\", \"rounded-full\", \"text-lg\", \"uppercase\", \"bg-gray-200\", \"text-gray-600\", \"dark:bg-gray-700\", \"dark:text-gray-200\"], [1, \"p-8\", \"sm:p-16\", \"border-t\", \"text-4xl\", \"font-semibold\", \"tracking-tight\", \"text-center\"]],\n    template: function ArtistListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-drawer-container\", 1);\n        i0.ɵɵlistener(\"backdropClick\", function ArtistListComponent_Template_mat_drawer_container_backdropClick_1_listener() {\n          return ctx.onBackdropClicked();\n        });\n        i0.ɵɵelementStart(2, \"mat-drawer\", 2, 3);\n        i0.ɵɵelement(4, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-drawer-content\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"div\")(9, \"div\", 7);\n        i0.ɵɵtext(10, \"Artists\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵtemplate(12, ArtistListComponent_ng_container_12_Template, 2, 1, \"ng-container\", 9);\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"i18nPlural\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 5)(17, \"mat-form-field\", 11);\n        i0.ɵɵelement(18, \"mat-icon\", 12)(19, \"input\", 13);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\", 14);\n        i0.ɵɵtemplate(21, ArtistListComponent_ng_container_21_Template, 2, 2, \"ng-container\", 9);\n        i0.ɵɵpipe(22, \"async\");\n        i0.ɵɵtemplate(23, ArtistListComponent_ng_template_23_Template, 2, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"mode\", ctx.drawerMode)(\"opened\", false)(\"position\", \"end\")(\"disableClose\", true);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.artistsCount > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(14, 11, ctx.artistsCount, i0.ɵɵpureFunction0(16, _c3)), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:search\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formControl\", ctx.searchInputControl)(\"autocomplete\", \"off\")(\"placeholder\", \"Search contacts\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(22, 14, ctx.artists$));\n      }\n    },\n    dependencies: [i1.RouterOutlet, i1.RouterLinkWithHref, i3.MatDrawer, i3.MatDrawerContainer, i3.MatDrawerContent, i4.MatFormField, i4.MatPrefix, i5.MatInput, i6.MatIcon, i7.NgClass, i7.NgForOf, i7.NgIf, i8.DefaultValueAccessor, i8.NgControlStatus, i8.FormControlDirective, i7.AsyncPipe, i7.DecimalPipe, i7.I18nPluralPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ArtistListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}